var calculator=new Vue({el:"#calculator",data:{amount:"10,000",frequency:1,term:7,interestRate:3,totalPaid:"",totalInterest:"",monthlyPayment:"",payoffDate:"",headerString:"",tenPayment:"",tenSave:"",tenPayoff:"",twentyfivePayment:"",twentyfiveSave:"",twentyfivePayoff:""},watch:{amount:function(t){const e=t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");Vue.nextTick(()=>this.amount=e)}},methods:{getResults:function(){let t,e,a,n,o,s,l,r,h,m,u,c,g,y,f,d=parseInt(this.amount.replace(/,/g,""),10),v=this.interestRate/100/12,P=this.term,p=[],D=[],b=[],w=d,M=2;l=(new Date).getFullYear(),1==this.frequency&&(P*=12),a=(t=Math.pow(1+v,P)-1)/(e=v*Math.pow(1+v,P)),this.monthlyPayment=d/a,this.totalPaid=this.monthlyPayment*P,this.totalInterest=this.totalPaid-d;const S=["January","February","March","April","May","June","July","August","September","October","November","December"];for(n=new Date,o=new Date(n.setMonth(n.getMonth()+P)),this.payoffMonth=S[o.getMonth()],l=o.getFullYear(),this.payoffDate=this.payoffMonth+" "+l,p.push(d),i=0;i<P;i++)w=w*v+w-this.monthlyPayment,p.push(w),D=P>24?p.filter((t,e)=>e%12==0):p;for(D.pop(),D.push(0),n=new Date,i=0;i<D.length;i++)r=l=n.getFullYear(),"January"!=(h=S[s=n.getMonth()])&&"February"!=h&&"March"!=h&&"April"!=h&&"August"!=h&&"September"!=h&&"October"!=h&&"November"!=h&&"December"!=h||(h=h.substring(0,3)+"."),P>24?(f=" '"+(f=(r=i+l).toString().substr(-2)),b.push(f)):((f=i+s)>11&&f<=23?(f-=12,r=l+1):f>23&&(f-=24,r=l+2),"January"!=(h=S[f])&&"February"!=h&&"March"!=h&&"April"!=h&&"August"!=h&&"September"!=h&&"October"!=h&&"November"!=h&&"December"!=h||(h=h.substring(0,3)+"."),f=h+" '"+r.toString().substr(-2),b.push(f));this.headerString=P>24?"Loan balance in "+h+" of each year":"Monthly loan balance",(m=document.getElementById("calculator").offsetWidth)<400?D.length>=22?M=10:D.length>=12&&D.length<22?M=5:D.length<7&&(M=1):D.length<12?M=1:D.length>17&&(M=5),this.drawChart(D,b,M),this.tenPayment=1.1*this.monthlyPayment,u=-1*Math.log(1-v*d/this.tenPayment)/Math.log(1+v),n=new Date,fullPayoffDate10=new Date(n.setMonth(n.getMonth()+u+1)),s=S[fullPayoffDate10.getMonth()],l=fullPayoffDate10.getFullYear(),this.tenPayoff=s+" "+l,g=this.tenPayment*u-d,this.tenSave=this.totalInterest-g,this.twentyfivePayment=1.25*this.monthlyPayment,c=-1*Math.log(1-v*d/this.twentyfivePayment)/Math.log(1+v),n=new Date,fullPayoffDate25=new Date(n.setMonth(n.getMonth()+c+1)),s=S[fullPayoffDate25.getMonth()],l=fullPayoffDate25.getFullYear(),this.twentyfivePayoff=s+" "+l,y=this.twentyfivePayment*c-d,this.twentyfiveSave=this.totalInterest-y,this.monthlyPayment=this.monthlyPayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.totalPaid=this.totalPaid.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.totalInterest=this.totalInterest.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.tenPayment=this.tenPayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.tenSave=this.tenSave.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.twentyfivePayment=this.twentyfivePayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.twentyfiveSave=this.twentyfiveSave.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})},drawChart:function(t,e,a){function i(){Highcharts.chart("chart-container-loancalc",{chart:{type:"column",styledMode:!0,spacingBottom:0,spacingRight:0,spacingLeft:0,animation:!1},title:{text:null},series:[{name:"Loan balance",data:t}],plotOptions:{series:{groupPadding:.1}},legend:{enabled:!1},xAxis:{labels:{style:{textOverflow:"none"},autoRotation:0},categories:e,tickLength:5,tickInterval:a},yAxis:{title:!1,labels:{overflow:"allow",formatter:function(){return"$"+Highcharts.numberFormat(this.value,0,".",",")}},tickAmount:5},credits:{enabled:!1},tooltip:{shadow:!1,padding:10,shared:!0,valuePrefix:"$",valueDecimals:2}})}Highcharts.setOptions({lang:{thousandsSep:",",numericSymbols:[null,"M","G","T","P","E"]}}),"complete"===document.readyState||"interactive"===document.readyState?i():document.addEventListener("DOMContentLoaded",i)}},mounted:function(){this.getResults()}});function limitNumber(){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength),type="number",maxlength="2")}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGN1bGF0b3IuanMiXSwibmFtZXMiOlsiY2FsY3VsYXRvciIsIlZ1ZSIsImVsIiwiZGF0YSIsImFtb3VudCIsImZyZXF1ZW5jeSIsInRlcm0iLCJpbnRlcmVzdFJhdGUiLCJ0b3RhbFBhaWQiLCJ0b3RhbEludGVyZXN0IiwibW9udGhseVBheW1lbnQiLCJwYXlvZmZEYXRlIiwiaGVhZGVyU3RyaW5nIiwidGVuUGF5bWVudCIsInRlblNhdmUiLCJ0ZW5QYXlvZmYiLCJ0d2VudHlmaXZlUGF5bWVudCIsInR3ZW50eWZpdmVTYXZlIiwidHdlbnR5Zml2ZVBheW9mZiIsIndhdGNoIiwibmV3VmFsdWUiLCJyZXN1bHQiLCJyZXBsYWNlIiwibmV4dFRpY2siLCJ0aGlzIiwibWV0aG9kcyIsImdldFJlc3VsdHMiLCJETnVtZXJhdG9yIiwiRERlbm9taW5hdG9yIiwiRCIsImN1cnJlbnREYXRlIiwiZnVsbFBheW9mZkRhdGUiLCJtb250aCIsInllYXIiLCJjYXRZZWFyIiwibW9udGhOYW1lIiwiY29udGFpbmVyV2lkdGgiLCJOMTAiLCJOMjUiLCJJMTAiLCJJMjUiLCJjYXRlZ29yaWVzIiwiQSIsInBhcnNlSW50IiwiciIsIm4iLCJtb250aGx5RGF0YSIsImFubnVhbERhdGEiLCJjYXRBcnJheSIsImxvYW5Ub3RhbCIsInRpY2tJbnRlcnZhbCIsIkRhdGUiLCJnZXRGdWxsWWVhciIsIk1hdGgiLCJwb3ciLCJtb250aE5hbWVzIiwic2V0TW9udGgiLCJnZXRNb250aCIsInBheW9mZk1vbnRoIiwicHVzaCIsImkiLCJmaWx0ZXIiLCJfIiwicG9wIiwibGVuZ3RoIiwic3Vic3RyaW5nIiwidG9TdHJpbmciLCJzdWJzdHIiLCJkb2N1bWVudCIsImdldEVsZW1lbnRCeUlkIiwib2Zmc2V0V2lkdGgiLCJkcmF3Q2hhcnQiLCJsb2ciLCJmdWxsUGF5b2ZmRGF0ZTEwIiwiZnVsbFBheW9mZkRhdGUyNSIsInRvTG9jYWxlU3RyaW5nIiwidW5kZWZpbmVkIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwiZHJhd0hpZ2hjaGFydHMiLCJIaWdoY2hhcnRzIiwiY2hhcnQiLCJ0eXBlIiwic3R5bGVkTW9kZSIsInNwYWNpbmdCb3R0b20iLCJzcGFjaW5nUmlnaHQiLCJzcGFjaW5nTGVmdCIsImFuaW1hdGlvbiIsInRpdGxlIiwidGV4dCIsInNlcmllcyIsIm5hbWUiLCJwbG90T3B0aW9ucyIsImdyb3VwUGFkZGluZyIsImxlZ2VuZCIsImVuYWJsZWQiLCJ4QXhpcyIsImxhYmVscyIsInN0eWxlIiwidGV4dE92ZXJmbG93IiwiYXV0b1JvdGF0aW9uIiwidGlja0xlbmd0aCIsInlBeGlzIiwib3ZlcmZsb3ciLCJmb3JtYXR0ZXIiLCJudW1iZXJGb3JtYXQiLCJ2YWx1ZSIsInRpY2tBbW91bnQiLCJjcmVkaXRzIiwidG9vbHRpcCIsInNoYWRvdyIsInBhZGRpbmciLCJzaGFyZWQiLCJ2YWx1ZVByZWZpeCIsInZhbHVlRGVjaW1hbHMiLCJzZXRPcHRpb25zIiwibGFuZyIsInRob3VzYW5kc1NlcCIsIm51bWVyaWNTeW1ib2xzIiwicmVhZHlTdGF0ZSIsImFkZEV2ZW50TGlzdGVuZXIiLCJtb3VudGVkIiwibGltaXROdW1iZXIiLCJtYXhMZW5ndGgiLCJzbGljZSIsIm1heGxlbmd0aCJdLCJtYXBwaW5ncyI6IkFBQUEsSUFBQUEsV0FBQSxJQUFBQyxJQUFBLENBQ0FDLEdBQUEsY0FDQUMsS0FBQSxDQUNBQyxPQUFBLFNBQ0FDLFVBQUEsRUFDQUMsS0FBQSxFQUNBQyxhQUFBLEVBQ0FDLFVBQUEsR0FDQUMsY0FBQSxHQUNBQyxlQUFBLEdBQ0FDLFdBQUEsR0FDQUMsYUFBQSxHQUNBQyxXQUFBLEdBQ0FDLFFBQUEsR0FDQUMsVUFBQSxHQUNBQyxrQkFBQSxHQUNBQyxlQUFBLEdBQ0FDLGlCQUFBLElBR0FDLE1BQUEsQ0FDQWYsT0FBQSxTQUFBZ0IsR0FDQSxNQUFBQyxFQUFBRCxFQUFBRSxRQUFBLE1BQUEsSUFDQUEsUUFBQSx3QkFBQSxLQUNBckIs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UUFBQSxHQUNBQyxRQUFBLEVBQ0FDLFlBQUEsSUFDQUMsY0FBQSxLQTlEQWxDLFdBQUFtQyxXQUFBLENBQ0FDLEtBQUEsQ0FDQUMsYUFBQSxJQUNBQyxlQUFBLENBQUEsS0FBQSxJQUFBLElBQUEsSUFBQSxJQUFBLFFBZ0VBLGFBQUFsRCxTQUFBbUQsWUFBQSxnQkFBQW5ELFNBQUFtRCxXQUNBeEMsSUFFQVgsU0FBQW9ELGlCQUFBLG1CQUFBekMsS0FLQTBDLFFBQUEsV0FDQWpHLEtBQUFFLGdCQUlBLFNBQUFnRyxjQUNBbEcsS0FBQWtGLE1BQUExQyxPQUFBeEMsS0FBQW1HLFlBQ0FuRyxLQUFBa0YsTUFBQWxGLEtBQUFrRixNQUFBa0IsTUFBQSxFQUFBcEcsS0FBQW1HLFdBQ0F6QyxLQUFBLFNBQ0EyQyxVQUFBIiwiZmlsZSI6Im1haW4uanMiLCJzb3VyY2VzQ29udGVudCI6WyJ2YXIgY2FsY3VsYXRvciA9IG5ldyBWdWUoe1xuICAgIGVsOiAnI2NhbGN1bGF0b3InLFxuICAgIGRhdGE6IHtcbiAgICAgIGFtb3VudDogJzEwLDAwMCcsXG4gICAgICBmcmVxdWVuY3k6MSxcbiAgICAgIHRlcm06IDcsXG4gICAgICBpbnRlcmVzdFJhdGU6IDMsXG4gICAgICB0b3RhbFBhaWQ6ICcnLFxuICAgICAgdG90YWxJbnRlcmVzdDogJycsXG4gICAgICBtb250aGx5UGF5bWVudDogJycsXG4gICAgICBwYXlvZmZEYXRlOiAnJyxcbiAgICAgIGhlYWRlclN0cmluZzogJycsXG4gICAgICB0ZW5QYXltZW50OiAnJyxcbiAgICAgIHRlblNhdmU6ICcnLFxuICAgICAgdGVuUGF5b2ZmOiAnJyxcbiAgICAgIHR3ZW50eWZpdmVQYXltZW50OiAnJyxcbiAgICAgIHR3ZW50eWZpdmVTYXZlOiAnJyxcbiAgICAgIHR3ZW50eWZpdmVQYXlvZmY6ICcnLFxuXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICBhbW91bnQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cXEQvZywgXCJcIilcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKTtcbiAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB0aGlzLmFtb3VudCA9IHJlc3VsdCk7XG4gICAgICAgICAgfSxcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIC8vIGZ1bmN0aW9ucyBnbyBoZXJlXG4gICAgICBnZXRSZXN1bHRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBBID0gcGFyc2VJbnQoKHRoaXMuYW1vdW50LnJlcGxhY2UoLywvZywgJycpKSwxMCksXG4gICAgICAgICAgICByID0gKHRoaXMuaW50ZXJlc3RSYXRlLzEwMCkvMTIsXG4gICAgICAgICAgICBuID0gdGhpcy50ZXJtLFxuICAgICAgICAgICAgRE51bWVyYXRvcixcbiAgICAgICAgICAgIEREZW5vbWluYXRvcixcbiAgICAgICAgICAgIEQsXG4gICAgICAgICAgICBjdXJyZW50RGF0ZSxcbiAgICAgICAgICAgIGZ1bGxQYXlvZmZEYXRlLFxuICAgICAgICAgICAgbW9udGgsXG4gICAgICAgICAgICB5ZWFyLFxuICAgICAgICAgICAgY2F0WWVhcixcbiAgICAgICAgICAgIG1vbnRoTmFtZSxcbiAgICAgICAgICAgIG1vbnRobHlEYXRhID0gW10sXG4gICAgICAgICAgICBhbm51YWxEYXRhID0gW10sXG4gICAgICAgICAgICBjYXRBcnJheSA9IFtdLFxuICAgICAgICAgICAgbG9hblRvdGFsID0gQSxcbiAgICAgICAgICAgIGNvbnRhaW5lcldpZHRoLFxuICAgICAgICAgICAgTjEwLFxuICAgICAgICAgICAgTjI1LFxuICAgICAgICAgICAgSTEwLFxuICAgICAgICAgICAgSTI1LFxuICAgICAgICAgICAgY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIHRpY2tJbnRlcnZhbCA9IDIuXG4gICAgICAgICAgICB5ZWFyID0gbmV3IERhdGUoKS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIFxuICAgICAgICAvLyBjb252ZXJ0cyB0aGUgdGVybSBpbnRvIG1vbnRoc1xuICAgICAgICBpZiAodGhpcy5mcmVxdWVuY3kgPT0gMSkge1xuICAgICAgICAgICAgbiA9IG4qMTI7XG4gICAgICAgIH1cblxuICAgICAgICAvLyBhbW9ydGl6ZWQgbG9hbiBjYWxjdWxhdGlvbnNcbiAgICAgICAgRE51bWVyYXRvciA9IChNYXRoLnBvdygoMStyKSxuKSktMTtcbiAgICAgICAgRERlbm9taW5hdG9yID0gciooTWF0aC5wb3coKDErciksIG4pKTtcbiAgICAgICAgRCA9IEROdW1lcmF0b3IvRERlbm9taW5hdG9yO1xuXG4gICAgICAgIHRoaXMubW9udGhseVBheW1lbnQgPSBBL0Q7XG5cbiAgICAgICAgdGhpcy50b3RhbFBhaWQgPSB0aGlzLm1vbnRobHlQYXltZW50Km47XG5cbiAgICAgICAgdGhpcy50b3RhbEludGVyZXN0ID0gdGhpcy50b3RhbFBhaWQgLSBBO1xuXG4gICAgICAgIC8vIGdldCBjdXJyZW50IGRhdGUgYW5kIHBheW9mZiBkYXRlXG4gICAgICAgIGNvbnN0IG1vbnRoTmFtZXMgPSBbXCJKYW51YXJ5XCIsIFwiRmVicnVhcnlcIiwgXCJNYXJjaFwiLCBcIkFwcmlsXCIsIFwiTWF5XCIsIFwiSnVuZVwiLFxuICAgICAgICAgICAgXCJKdWx5XCIsIFwiQXVndXN0XCIsIFwiU2VwdGVtYmVyXCIsIFwiT2N0b2JlclwiLCBcIk5vdmVtYmVyXCIsIFwiRGVjZW1iZXJcIlxuICAgICAgICAgICAgXTtcblxuICAgICAgICBjdXJyZW50RGF0ZSA9IG5ldyBEYXRlKCk7XG5cbiAgICAgICAgZnVsbFBheW9mZkRhdGUgPSBuZXcgRGF0ZShjdXJyZW50RGF0ZS5zZXRNb250aChjdXJyZW50RGF0ZS5nZXRNb250aCgpK24pKTtcblxuICAgICAgICB0aGlzLnBheW9mZk1vbnRoID0gbW9udGhOYW1lc1tmdWxsUGF5b2ZmRGF0ZS5nZXRNb250aCgpXTtcbiAgICAgICAgeWVhciA9IGZ1bGxQYXlvZmZEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgdGhpcy5wYXlvZmZEYXRlID0gdGhpcy5wYXlvZmZNb250aCArIFwiIFwiICsgeWVhcjtcblxuICAgICAgICAvLyBnZXQgZGF0YSBmb3IgY2hhcnRcbiAgICAgICAgbW9udGhseURhdGEucHVzaChBKTsgLy8gYWRkcyBzdGFydGluZyBsb2FuIGFtb3VudCB0byB0aGUgZGF0YSBhcnJheVxuXG4gICAgICAgIGZvciAoaT0wOyBpPG47IGkrKykge1xuICAgICAgICAgICAgbG9hblRvdGFsID0gbG9hblRvdGFsICogciArIGxvYW5Ub3RhbCAtIHRoaXMubW9udGhseVBheW1lbnQ7IC8vIG1vbnRobHkgbG9hbiB0b3RhbCBjYWxjdWxhdGVkIGFzIHByaW5jaXBhbCBwbHVzIGludGVyZXN0LCBtaW51cyB0aGUgcGF5bWVudFxuICAgICAgICAgICAgbW9udGhseURhdGEucHVzaChsb2FuVG90YWwpOyBcbiAgICAgICAgICAgIFxuICAgICAgICAgICAgaWYgKG4+MjQpIHtcbiAgICAgICAgICAgICAgICBhbm51YWxEYXRhID0gbW9udGhseURhdGEuZmlsdGVyKChfLGkpID0+IGkgJSAxMiA9PSAwKTsgLy8gdGFrZXMgZXZlcnkgMTJ0aCBkYXRhIHBvaW50XG5cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgYW5udWFsRGF0YSA9IG1vbnRobHlEYXRhOyAvLyBpZiB0aGUgbG9hbiBwZXJpb2QgaXMgMiB5ZWFycyBvciBsZXNzLCBwdXNoZXMgbW9udGhseSBkYXRhIHRvIGNoYXJ0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBcbiAgICAgICAgfVxuXG4gICAgICAgIGFubnVhbERhdGEucG9wKCk7IC8vIHJlbW92ZXMgbGFzdCBkYXRhIHBvaW50IGFuZCByZXBsYWNlcyBpdCB3aXRoIDBcbiAgICAgICAgYW5udWFsRGF0YS5wdXNoKDApO1xuXG4gICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICBmb3IgKGk9MDsgaTxhbm51YWxEYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICAgICAgICB5ZWFyID0gY3VycmVudERhdGUuZ2V0RnVsbFllYXIoKTtcbiAgICAgICAgICAgIG1vbnRoID0gY3VycmVudERhdGUuZ2V0TW9udGgoKTtcbiAgICAgICAgICAgIG1vbnRoTmFtZSA9IG1vbnRoTmFtZXNbbW9udGhdO1xuICAgICAgICAgICAgY2F0WWVhciA9IHllYXI7XG5cbiAgICAgICAgICAgIC8vIHNob3J0ZW5zIGxvbmcgbW9udGggbmFtZXNcbiAgICAgICAgICAgIGlmIChtb250aE5hbWUgPT0gJ0phbnVhcnknIHx8IG1vbnRoTmFtZSA9PSAnRmVicnVhcnknIHx8IG1vbnRoTmFtZSA9PSAnTWFyY2gnIHx8IG1vbnRoTmFtZSA9PSAnQXByaWwnIHx8IG1vbnRoTmFtZSA9PSAnQXVndXN0JyB8fCBtb250aE5hbWUgPT0gJ1NlcHRlbWJlcicgfHwgbW9udGhOYW1lID09ICdPY3RvYmVyJyB8fCBtb250aE5hbWUgPT0gJ05vdmVtYmVyJyB8fCBtb250aE5hbWUgPT0gJ0RlY2VtYmVyJykge1xuICAgICAgICAgICAgICAgIG1vbnRoTmFtZSA9IG1vbnRoTmFtZS5zdWJzdHJpbmcoMCwzKSArICcuJztcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgLy8gIHB1bGxzIGNhdGVnb3J5IHllYXJzIGZvciBhbm51YWwgY2hhcnRzXG4gICAgICAgICAgICBpZiAobj4yNCkge1xuICAgICAgICAgICAgICAgIGNhdFllYXIgPSBpICsgeWVhcjsgLy8gZ2V0cyB0aGUgYXJyYXkgb2YgeWVhcnMgZm9yIHRoZSBsb2FuXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9IGNhdFllYXIudG9TdHJpbmcoKS5zdWJzdHIoLTIpOyAvLyBjb252ZXJ0cyB5ZWFycyB0byB0d28gZGlnaXRzXG4gICAgICAgICAgICAgICAgY2F0ZWdvcmllcyA9ICcgXFwnJyArIGNhdGVnb3JpZXM7IC8vIGFkZHMgbW9udGggdG8geWVhclxuICAgICAgICAgICAgICAgIGNhdEFycmF5LnB1c2goY2F0ZWdvcmllcyk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBpICsgbW9udGg7XG4gICAgICAgICAgICAgICAgaWYgKGNhdGVnb3JpZXMgPiAxMSAmJiBjYXRlZ29yaWVzIDw9IDIzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9IGNhdGVnb3JpZXMgLSAxMjtcbiAgICAgICAgICAgICAgICAgICAgY2F0WWVhciA9IHllYXIgKyAxO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoY2F0ZWdvcmllcyA+IDIzKSB7XG4gICAgICAgICAgICAgICAgICAgIGNhdGVnb3JpZXM9IGNhdGVnb3JpZXMgLSAyNDtcbiAgICAgICAgICAgICAgICAgICAgY2F0WWVhciA9IHllYXIgKyAyO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIFxuXG4gICAgICAgICAgICAgICAgbW9udGhOYW1lID0gbW9udGhOYW1lc1tjYXRlZ29yaWVzXTtcbiAgICAgICAgICAgICAgICBpZiAobW9udGhOYW1lID09ICdKYW51YXJ5JyB8fCBtb250aE5hbWUgPT0gJ0ZlYnJ1YXJ5JyB8fCBtb250aE5hbWUgPT0gJ01hcmNoJyB8fCBtb250aE5hbWUgPT0gJ0FwcmlsJyB8fCBtb250aE5hbWUgPT0gJ0F1Z3VzdCcgfHwgbW9udGhOYW1lID09ICdTZXB0ZW1iZXInIHx8IG1vbnRoTmFtZSA9PSAnT2N0b2JlcicgfHwgbW9udGhOYW1lID09ICdOb3ZlbWJlcicgfHwgbW9udGhOYW1lID09ICdEZWNlbWJlcicpIHtcbiAgICAgICAgICAgICAgICAgICAgbW9udGhOYW1lID0gbW9udGhOYW1lLnN1YnN0cmluZygwLDMpICsgJy4nO1xuICAgICAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgICAgIGNhdGVnb3JpZXMgPSBtb250aE5hbWUgKyAnIFxcJycgKyBjYXRZZWFyLnRvU3RyaW5nKCkuc3Vic3RyKC0yKTs7XG4gICAgICAgICAgICAgICAgY2F0QXJyYXkucHVzaChjYXRlZ29yaWVzKTtcbiAgICAgICAgICAgIH1cblxuICAgICAgICAgICAgXG4gICAgICAgIH1cblxuXG4gICAgICAgIC8vIGdldCB0aXRsZSBuYW1lIGZvciBjaGFydFxuICAgICAgICBpZiAobj4yNCkge1xuICAgICAgICAgICAgdGhpcy5oZWFkZXJTdHJpbmcgPSBcIkxvYW4gYmFsYW5jZSBpbiBcIiArIG1vbnRoTmFtZSArIFwiIG9mIGVhY2ggeWVhclwiXG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aGlzLmhlYWRlclN0cmluZyA9IFwiTW9udGhseSBsb2FuIGJhbGFuY2VcIlxuICAgICAgICB9XG5cbiAgICAgICAgY29udGFpbmVyV2lkdGggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2FsY3VsYXRvcicpLm9mZnNldFdpZHRoO1xuXG4gICAgICAgIGlmIChjb250YWluZXJXaWR0aCA8IDQwMCkge1xuICAgICAgICAgICAgc2V0VGlja0ludGVydmFsTW9iaWxlKCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBzZXRUaWNrSW50ZXJ2YWxEZXNrdG9wKCk7XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRUaWNrSW50ZXJ2YWxNb2JpbGUoKSB7XG4gICAgICAgICAgICBpZiAoYW5udWFsRGF0YS5sZW5ndGggPj0gMjIpIHtcbiAgICAgICAgICAgICAgICB0aWNrSW50ZXJ2YWwgPSAxMDtcbiAgICAgICAgICAgIH0gZWxzZSBpZiAoYW5udWFsRGF0YS5sZW5ndGggPj0gMTIgJiYgYW5udWFsRGF0YS5sZW5ndGggPCAyMikge1xuICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbCA9IDU7XG4gICAgICAgICAgICB9IGVsc2UgaWYgKGFubnVhbERhdGEubGVuZ3RoIDwgNykge1xuICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbCA9IDE7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cblxuICAgICAgICBmdW5jdGlvbiBzZXRUaWNrSW50ZXJ2YWxEZXNrdG9wKCkge1xuICAgICAgICAgICAgaWYgKGFubnVhbERhdGEubGVuZ3RoIDwgMTIpIHtcbiAgICAgICAgICAgICAgICB0aWNrSW50ZXJ2YWwgPSAxO1xuICAgICAgICAgICAgfSBlbHNlIGlmIChhbm51YWxEYXRhLmxlbmd0aCA+IDE3KSB7XG4gICAgICAgICAgICAgICAgdGlja0ludGVydmFsID0gNTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuXG4gICAgICAgIFxuXG4gICAgICAgIHRoaXMuZHJhd0NoYXJ0KGFubnVhbERhdGEsY2F0QXJyYXksdGlja0ludGVydmFsKTtcblxuXG4gICAgICAgIC8vIGFkZCAxMCUgdG8geW91ciBwYXltZW50XG4gICAgICAgIHRoaXMudGVuUGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQqMS4xO1xuXG4gICAgICAgIE4xMCA9IChNYXRoLmxvZygxLXIqQS90aGlzLnRlblBheW1lbnQpKi0xKS9NYXRoLmxvZygxK3IpO1xuXG4gICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICBmdWxsUGF5b2ZmRGF0ZTEwID0gbmV3IERhdGUoY3VycmVudERhdGUuc2V0TW9udGgoY3VycmVudERhdGUuZ2V0TW9udGgoKStOMTArMSkpO1xuXG4gICAgICAgIG1vbnRoID0gbW9udGhOYW1lc1tmdWxsUGF5b2ZmRGF0ZTEwLmdldE1vbnRoKCldO1xuICAgICAgICB5ZWFyID0gZnVsbFBheW9mZkRhdGUxMC5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIHRoaXMudGVuUGF5b2ZmID0gbW9udGggKyBcIiBcIiArIHllYXI7XG5cbiAgICAgICAgSTEwID0gdGhpcy50ZW5QYXltZW50Kk4xMCAtIEE7XG5cbiAgICAgICAgdGhpcy50ZW5TYXZlID0gdGhpcy50b3RhbEludGVyZXN0IC0gSTEwO1xuXG5cbiAgICAgICAgLy8gYWRkIDI1JSB0byB5b3VyIHBheW1lbnRcbiAgICAgICAgdGhpcy50d2VudHlmaXZlUGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQqMS4yNTtcbiAgICAgICAgTjI1ID0gKE1hdGgubG9nKDEtcipBL3RoaXMudHdlbnR5Zml2ZVBheW1lbnQpKi0xKS9NYXRoLmxvZygxK3IpO1xuXG4gICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICBmdWxsUGF5b2ZmRGF0ZTI1ID0gbmV3IERhdGUoY3VycmVudERhdGUuc2V0TW9udGgoY3VycmVudERhdGUuZ2V0TW9udGgoKStOMjUrMSkpO1xuXG4gICAgICAgIG1vbnRoID0gbW9udGhOYW1lc1tmdWxsUGF5b2ZmRGF0ZTI1LmdldE1vbnRoKCldO1xuICAgICAgICB5ZWFyID0gZnVsbFBheW9mZkRhdGUyNS5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIHRoaXMudHdlbnR5Zml2ZVBheW9mZiA9IG1vbnRoICsgXCIgXCIgKyB5ZWFyO1xuXG4gICAgICAgIEkyNSA9IHRoaXMudHdlbnR5Zml2ZVBheW1lbnQqTjI1IC0gQTtcblxuICAgICAgICB0aGlzLnR3ZW50eWZpdmVTYXZlID0gdGhpcy50b3RhbEludGVyZXN0IC0gSTI1O1xuXG5cbiAgICAgICAgdGhpcy5tb250aGx5UGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudG90YWxQYWlkID0gdGhpcy50b3RhbFBhaWQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudG90YWxJbnRlcmVzdCA9IHRoaXMudG90YWxJbnRlcmVzdC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgICB7J21pbmltdW1GcmFjdGlvbkRpZ2l0cyc6MiwnbWF4aW11bUZyYWN0aW9uRGlnaXRzJzoyfSk7XG5cbiAgICAgICAgdGhpcy50ZW5QYXltZW50ID0gdGhpcy50ZW5QYXltZW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHsnbWluaW11bUZyYWN0aW9uRGlnaXRzJzoyLCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnOjJ9KTtcblxuICAgICAgICB0aGlzLnRlblNhdmUgPSB0aGlzLnRlblNhdmUudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudHdlbnR5Zml2ZVBheW1lbnQgPSB0aGlzLnR3ZW50eWZpdmVQYXltZW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHsnbWluaW11bUZyYWN0aW9uRGlnaXRzJzoyLCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnOjJ9KTtcblxuICAgICAgICB0aGlzLnR3ZW50eWZpdmVTYXZlID0gdGhpcy50d2VudHlmaXZlU2F2ZS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgICB7J21pbmltdW1GcmFjdGlvbkRpZ2l0cyc6MiwnbWF4aW11bUZyYWN0aW9uRGlnaXRzJzoyfSk7XG5cblxuICAgICAgfSxcbiAgICAgIGRyYXdDaGFydDogZnVuY3Rpb24oYW5udWFsRGF0YSxjYXRBcnJheSx0aWNrSW50ZXJ2YWwpIHtcblxuICAgICAgICBIaWdoY2hhcnRzLnNldE9wdGlvbnMoe1xuICAgICAgICAgICAgbGFuZzoge1xuICAgICAgICAgICAgICB0aG91c2FuZHNTZXA6ICcsJyxcbiAgICAgICAgICAgICAgbnVtZXJpY1N5bWJvbHM6IFtudWxsLCBcIk1cIiwgXCJHXCIsIFwiVFwiLCBcIlBcIiwgXCJFXCJdXG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuXG4gICAgICAgIGZ1bmN0aW9uIGRyYXdIaWdoY2hhcnRzKCkge1xuICAgICAgICAgICAgSGlnaGNoYXJ0cy5jaGFydCgnY2hhcnQtY29udGFpbmVyLWxvYW5jYWxjJywge1xuICAgICAgICAgICAgICAgIGNoYXJ0OiB7XG4gICAgICAgICAgICAgICAgICAgIHR5cGU6ICdjb2x1bW4nLFxuICAgICAgICAgICAgICAgICAgICBzdHlsZWRNb2RlOiB0cnVlLFxuICAgICAgICAgICAgICAgICAgICBzcGFjaW5nQm90dG9tOiAwLFxuICAgICAgICAgICAgICAgICAgICBzcGFjaW5nUmlnaHQ6IDAsXG4gICAgICAgICAgICAgICAgICAgIHNwYWNpbmdMZWZ0OiAwLFxuICAgICAgICAgICAgICAgICAgICBhbmltYXRpb246IGZhbHNlXG4gICAgICAgICAgICAgICAgfSwgXG4gICAgICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgdGV4dDogbnVsbFxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICAgICAgc2VyaWVzOiBbe1xuICAgICAgICAgICAgICAgICAgICBuYW1lOiAnTG9hbiBiYWxhbmNlJyxcbiAgICAgICAgICAgICAgICAgICAgZGF0YTogYW5udWFsRGF0YVxuICAgICAgICAgICAgICAgIH1dLFxuICAgICAgICAgICAgICAgIC8vIGZvciBsaW5lIGNoYXJ0cyBvbmx5XG4gICAgICAgICAgICAgICAgcGxvdE9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgICAgICAgc2VyaWVzOiB7XG4gICAgICAgICAgICAgICAgICAgICAgICBncm91cFBhZGRpbmc6IDAuMVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICBsZWdlbmQ6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHhBeGlzOiB7XG4gICAgICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgc3R5bGU6IHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZXh0T3ZlcmZsb3c6ICdub25lJ1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGF1dG9Sb3RhdGlvbjogMCxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgY2F0ZWdvcmllczogY2F0QXJyYXksXG4gICAgICAgICAgICAgICAgICAgIHRpY2tMZW5ndGg6IDUsXG4gICAgICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbDogdGlja0ludGVydmFsXG4gICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICB5QXhpczoge1xuICAgICAgICAgICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdhbGxvdycsXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyQnICsgSGlnaGNoYXJ0cy5udW1iZXJGb3JtYXQodGhpcy52YWx1ZSwwLCcuJywnLCcpO1xuICAgICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAgICAgICAgICAgICAgICAgdGlja0Ftb3VudDogNSxcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIGNyZWRpdHM6IHtcbiAgICAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAgICAgICAgICAgICB9LFxuICAgICAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAgICAgICAgICAgICAgICAgc2hhZG93OiBmYWxzZSxcbiAgICAgICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgICAgICAgICAgICAgICAgIHNoYXJlZDogdHJ1ZSxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVQcmVmaXg6ICckJyxcbiAgICAgICAgICAgICAgICAgICAgdmFsdWVEZWNpbWFsczogMlxuICAgICAgICAgICAgICAgIH0sXG4gICAgICAgICAgICB9KVxuICAgICAgICB9XG4gICAgICAgIFxuICAgICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgICAgICAgICBkcmF3SGlnaGNoYXJ0cygpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZHJhd0hpZ2hjaGFydHMpO1xuICAgICAgICB9XG5cbiAgICAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHRoaXMuZ2V0UmVzdWx0cygpXG4gICAgIH0sXG4gIH0pXG5cbiAgZnVuY3Rpb24gbGltaXROdW1iZXIgKCkge1xuICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDAsIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgdHlwZSA9IFwibnVtYmVyXCJcbiAgICAgICAgbWF4bGVuZ3RoID0gXCIyXCJcbiAgICB9XG4gIH0iXX0=
