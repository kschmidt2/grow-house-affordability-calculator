var calculator=new Vue({el:"#calculator",data:{amount:"10,000",frequency:1,term:7,interestRate:3,totalPaid:"",totalInterest:"",monthlyPayment:"",payoffDate:"",tenPayment:"",tenSave:"",tenPayoff:"",twentyfivePayment:"",twentyfiveSave:"",twentyfivePayoff:""},watch:{amount:function(t){const e=t.replace(/\D/g,"").replace(/\B(?=(\d{3})+(?!\d))/g,",");Vue.nextTick(()=>this.amount=e)}},methods:{getResults:function(){let t,e,i,a,n,o,s,m,l,h,y,r=parseInt(this.amount.replace(/,/g,""),10),u=this.interestRate/100/12,f=this.term;s=(new Date).getFullYear(),1==this.frequency&&(f*=12),i=(t=Math.pow(1+u,f)-1)/(e=u*Math.pow(1+u,f)),console.log(i),this.monthlyPayment=r/i,this.totalPaid=this.monthlyPayment*f,this.totalInterest=this.totalPaid-r;const g=["January","February","March","April","May","June","July","August","September","October","November","December"];a=new Date,o=g[(n=new Date(a.setMonth(a.getMonth()+f))).getMonth()],s=n.getFullYear(),this.payoffDate=o+" "+s,this.tenPayment=1.1*this.monthlyPayment,m=-1*Math.log(1-u*r/this.tenPayment)/Math.log(1+u),a=new Date,console.log(a),fullPayoffDate10=new Date(a.setMonth(a.getMonth()+m+1)),o=g[fullPayoffDate10.getMonth()],s=fullPayoffDate10.getFullYear(),this.tenPayoff=o+" "+s,h=this.tenPayment*m-r,this.tenSave=this.totalInterest-h,this.twentyfivePayment=1.25*this.monthlyPayment,l=-1*Math.log(1-u*r/this.twentyfivePayment)/Math.log(1+u),a=new Date,console.log(a),fullPayoffDate25=new Date(a.setMonth(a.getMonth()+l+1)),o=g[fullPayoffDate25.getMonth()],s=fullPayoffDate25.getFullYear(),console.log(l),console.log(fullPayoffDate25),this.twentyfivePayoff=o+" "+s,y=this.twentyfivePayment*l-r,this.twentyfiveSave=this.totalInterest-y,console.log(y),this.monthlyPayment=this.monthlyPayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.totalPaid=this.totalPaid.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.totalInterest=this.totalInterest.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.tenPayment=this.tenPayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.tenSave=this.tenSave.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.twentyfivePayment=this.twentyfivePayment.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2}),this.twentyfiveSave=this.twentyfiveSave.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})}},mounted:function(){this.getResults()}});function limitNumber(){this.value.length>this.maxLength&&(this.value=this.value.slice(0,this.maxLength),type="number",maxlength="2")}
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbImNhbGN1bGF0b3IuanMiXSwibmFtZXMiOlsiY2FsY3VsYXRvciIsIlZ1ZSIsImVsIiwiZGF0YSIsImFtb3VudCIsImZyZXF1ZW5jeSIsInRlcm0iLCJpbnRlcmVzdFJhdGUiLCJ0b3RhbFBhaWQiLCJ0b3RhbEludGVyZXN0IiwibW9udGhseVBheW1lbnQiLCJwYXlvZmZEYXRlIiwidGVuUGF5bWVudCIsInRlblNhdmUiLCJ0ZW5QYXlvZmYiLCJ0d2VudHlmaXZlUGF5bWVudCIsInR3ZW50eWZpdmVTYXZlIiwidHdlbnR5Zml2ZVBheW9mZiIsIndhdGNoIiwibmV3VmFsdWUiLCJyZXN1bHQiLCJyZXBsYWNlIiwibmV4dFRpY2siLCJ0aGlzIiwibWV0aG9kcyIsImdldFJlc3VsdHMiLCJETnVtZXJhdG9yIiwiRERlbm9taW5hdG9yIiwiRCIsImN1cnJlbnREYXRlIiwiZnVsbFBheW9mZkRhdGUiLCJtb250aCIsInllYXIiLCJOMTAiLCJOMjUiLCJJMTAiLCJJMjUiLCJBIiwicGFyc2VJbnQiLCJyIiwibiIsIkRhdGUiLCJnZXRGdWxsWWVhciIsIk1hdGgiLCJwb3ciLCJjb25zb2xlIiwibG9nIiwibW9udGhOYW1lcyIsInNldE1vbnRoIiwiZ2V0TW9udGgiLCJmdWxsUGF5b2ZmRGF0ZTEwIiwiZnVsbFBheW9mZkRhdGUyNSIsInRvTG9jYWxlU3RyaW5nIiwidW5kZWZpbmVkIiwibWluaW11bUZyYWN0aW9uRGlnaXRzIiwibWF4aW11bUZyYWN0aW9uRGlnaXRzIiwibW91bnRlZCIsImxpbWl0TnVtYmVyIiwidmFsdWUiLCJsZW5ndGgiLCJtYXhMZW5ndGgiLCJzbGljZSIsInR5cGUiLCJtYXhsZW5ndGgiXSwibWFwcGluZ3MiOiJBQUFBLElBQUFBLFdBQUEsSUFBQUMsSUFBQSxDQUNBQyxHQUFBLGNBQ0FDLEtBQUEsQ0FDQUMsT0FBQSxTQUNBQyxVQUFBLEVBQ0FDLEtBQUEsRUFDQUMsYUFBQSxFQUNBQyxVQUFBLEdBQ0FDLGNBQUEsR0FDQUMsZUFBQSxHQUNB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WCxXQUFBVyxLQUFBWCxXQUFBd0Msb0JBQUFDLEVBQ0EsQ0FBQUMsc0JBQUEsRUFBQUMsc0JBQUEsSUFFQWhDLEtBQUFWLFFBQUFVLEtBQUFWLFFBQUF1QyxvQkFBQUMsRUFDQSxDQUFBQyxzQkFBQSxFQUFBQyxzQkFBQSxJQUVBaEMsS0FBQVIsa0JBQUFRLEtBQUFSLGtCQUFBcUMsb0JBQUFDLEVBQ0EsQ0FBQUMsc0JBQUEsRUFBQUMsc0JBQUEsSUFFQWhDLEtBQUFQLGVBQUFPLEtBQUFQLGVBQUFvQyxvQkFBQUMsRUFDQSxDQUFBQyxzQkFBQSxFQUFBQyxzQkFBQSxNQStJQUMsUUFBQSxXQUNBakMsS0FBQUUsZ0JBSUEsU0FBQWdDLGNBQ0FsQyxLQUFBbUMsTUFBQUMsT0FBQXBDLEtBQUFxQyxZQUNBckMsS0FBQW1DLE1BQUFuQyxLQUFBbUMsTUFBQUcsTUFBQSxFQUFBdEMsS0FBQXFDLFdBQ0FFLEtBQUEsU0FDQUMsVUFBQSIsImZpbGUiOiJtYWluLmpzIiwic291cmNlc0NvbnRlbnQiOlsidmFyIGNhbGN1bGF0b3IgPSBuZXcgVnVlKHtcbiAgICBlbDogJyNjYWxjdWxhdG9yJyxcbiAgICBkYXRhOiB7XG4gICAgICBhbW91bnQ6ICcxMCwwMDAnLFxuICAgICAgZnJlcXVlbmN5OjEsXG4gICAgICB0ZXJtOiA3LFxuICAgICAgaW50ZXJlc3RSYXRlOiAzLFxuICAgICAgdG90YWxQYWlkOiAnJyxcbiAgICAgIHRvdGFsSW50ZXJlc3Q6ICcnLFxuICAgICAgbW9udGhseVBheW1lbnQ6ICcnLFxuICAgICAgcGF5b2ZmRGF0ZTogJycsXG4gICAgICB0ZW5QYXltZW50OiAnJyxcbiAgICAgIHRlblNhdmU6ICcnLFxuICAgICAgdGVuUGF5b2ZmOiAnJyxcbiAgICAgIHR3ZW50eWZpdmVQYXltZW50OiAnJyxcbiAgICAgIHR3ZW50eWZpdmVTYXZlOiAnJyxcbiAgICAgIHR3ZW50eWZpdmVQYXlvZmY6ICcnLFxuXG4gICAgfSxcbiAgICB3YXRjaDoge1xuICAgICAgICBhbW91bnQ6IGZ1bmN0aW9uKG5ld1ZhbHVlKSB7XG4gICAgICAgICAgICBjb25zdCByZXN1bHQgPSBuZXdWYWx1ZS5yZXBsYWNlKC9cXEQvZywgXCJcIilcbiAgICAgICAgICAgICAgLnJlcGxhY2UoL1xcQig/PShcXGR7M30pKyg/IVxcZCkpL2csIFwiLFwiKTtcbiAgICAgICAgICAgIFZ1ZS5uZXh0VGljaygoKSA9PiB0aGlzLmFtb3VudCA9IHJlc3VsdCk7XG4gICAgICAgICAgfSxcbiAgICB9LFxuICAgIG1ldGhvZHM6IHtcbiAgICAgIC8vIGZ1bmN0aW9ucyBnbyBoZXJlXG4gICAgICBnZXRSZXN1bHRzOiBmdW5jdGlvbiAoKSB7XG4gICAgICAgIGxldCBBID0gcGFyc2VJbnQoKHRoaXMuYW1vdW50LnJlcGxhY2UoLywvZywgJycpKSwxMCksXG4gICAgICAgICAgICByID0gKHRoaXMuaW50ZXJlc3RSYXRlLzEwMCkvMTIsXG4gICAgICAgICAgICBuID0gdGhpcy50ZXJtLFxuICAgICAgICAgICAgRE51bWVyYXRvcixcbiAgICAgICAgICAgIEREZW5vbWluYXRvcixcbiAgICAgICAgICAgIEQsXG4gICAgICAgICAgICBjdXJyZW50RGF0ZSxcbiAgICAgICAgICAgIGZ1bGxQYXlvZmZEYXRlLFxuICAgICAgICAgICAgbW9udGgsXG4gICAgICAgICAgICB5ZWFyLFxuICAgICAgICAgICAgTjEwLFxuICAgICAgICAgICAgTjI1LFxuICAgICAgICAgICAgSTEwLFxuICAgICAgICAgICAgSTI1LFxuICAgICAgICAgICAgUE1ULFxuICAgICAgICAgICAgZnZPZlByaW5jaXBhbCA9IEEsXG4gICAgICAgICAgICBmdk9mQ29udHJpYnV0aW9ucyA9IDAsXG4gICAgICAgICAgICB0b3RhbFByaW5jaXBhbCxcbiAgICAgICAgICAgIHRvdGFsSW50ZXJlc3QsXG4gICAgICAgICAgICBjb21iaW5lZCxcbiAgICAgICAgICAgIGlEYXRhID0gW10sXG4gICAgICAgICAgICByRGF0YSA9IFtdLFxuICAgICAgICAgICAgY2F0ZWdvcmllcyxcbiAgICAgICAgICAgIGNhdEFycmF5ID0gW10sXG4gICAgICAgICAgICB0aWNrSW50ZXJ2YWwgPSA1LlxuICAgICAgICAgICAgeWVhciA9IG5ldyBEYXRlKCkuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICBcbiAgICAgICAgLy8gY29udmVydHMgdGhlIHRlcm0gaW50byBtb250aHNcbiAgICAgICAgaWYgKHRoaXMuZnJlcXVlbmN5ID09IDEpIHtcbiAgICAgICAgICAgIG4gPSBuKjEyO1xuICAgICAgICB9XG5cbiAgICAgICAgLy8gYW1vcnRpemVkIGxvYW4gY2FsY3VsYXRpb25zXG4gICAgICAgIEROdW1lcmF0b3IgPSAoTWF0aC5wb3coKDErciksbikpLTE7XG4gICAgICAgIEREZW5vbWluYXRvciA9IHIqKE1hdGgucG93KCgxK3IpLCBuKSk7XG4gICAgICAgIEQgPSBETnVtZXJhdG9yL0REZW5vbWluYXRvcjtcbiAgICAgICAgY29uc29sZS5sb2coRCk7XG5cbiAgICAgICAgdGhpcy5tb250aGx5UGF5bWVudCA9IEEvRDtcblxuICAgICAgICB0aGlzLnRvdGFsUGFpZCA9IHRoaXMubW9udGhseVBheW1lbnQqbjtcblxuICAgICAgICB0aGlzLnRvdGFsSW50ZXJlc3QgPSB0aGlzLnRvdGFsUGFpZCAtIEE7XG5cbiAgICAgICAgLy8gZ2V0IGN1cnJlbnQgZGF0ZSBhbmQgcGF5b2ZmIGRhdGVcbiAgICAgICAgY29uc3QgbW9udGhOYW1lcyA9IFtcIkphbnVhcnlcIiwgXCJGZWJydWFyeVwiLCBcIk1hcmNoXCIsIFwiQXByaWxcIiwgXCJNYXlcIiwgXCJKdW5lXCIsXG4gICAgICAgICAgICBcIkp1bHlcIiwgXCJBdWd1c3RcIiwgXCJTZXB0ZW1iZXJcIiwgXCJPY3RvYmVyXCIsIFwiTm92ZW1iZXJcIiwgXCJEZWNlbWJlclwiXG4gICAgICAgICAgICBdO1xuXG4gICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICBmdWxsUGF5b2ZmRGF0ZSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnNldE1vbnRoKGN1cnJlbnREYXRlLmdldE1vbnRoKCkrbikpO1xuXG4gICAgICAgIG1vbnRoID0gbW9udGhOYW1lc1tmdWxsUGF5b2ZmRGF0ZS5nZXRNb250aCgpXTtcbiAgICAgICAgeWVhciA9IGZ1bGxQYXlvZmZEYXRlLmdldEZ1bGxZZWFyKCk7XG5cbiAgICAgICAgdGhpcy5wYXlvZmZEYXRlID0gbW9udGggKyBcIiBcIiArIHllYXI7XG5cbiAgICAgICAgLy8gYWRkIDEwJSB0byB5b3VyIHBheW1lbnRcbiAgICAgICAgdGhpcy50ZW5QYXltZW50ID0gdGhpcy5tb250aGx5UGF5bWVudCoxLjE7XG5cbiAgICAgICAgTjEwID0gKE1hdGgubG9nKDEtcipBL3RoaXMudGVuUGF5bWVudCkqLTEpL01hdGgubG9nKDErcik7XG5cbiAgICAgICAgY3VycmVudERhdGUgPSBuZXcgRGF0ZSgpO1xuXG4gICAgICAgIGNvbnNvbGUubG9nKGN1cnJlbnREYXRlKTtcblxuICAgICAgICBmdWxsUGF5b2ZmRGF0ZTEwID0gbmV3IERhdGUoY3VycmVudERhdGUuc2V0TW9udGgoY3VycmVudERhdGUuZ2V0TW9udGgoKStOMTArMSkpO1xuXG4gICAgICAgIG1vbnRoID0gbW9udGhOYW1lc1tmdWxsUGF5b2ZmRGF0ZTEwLmdldE1vbnRoKCldO1xuICAgICAgICB5ZWFyID0gZnVsbFBheW9mZkRhdGUxMC5nZXRGdWxsWWVhcigpO1xuXG4gICAgICAgIHRoaXMudGVuUGF5b2ZmID0gbW9udGggKyBcIiBcIiArIHllYXI7XG5cbiAgICAgICAgSTEwID0gdGhpcy50ZW5QYXltZW50Kk4xMCAtIEE7XG5cbiAgICAgICAgdGhpcy50ZW5TYXZlID0gdGhpcy50b3RhbEludGVyZXN0IC0gSTEwO1xuXG5cbiAgICAgICAgLy8gYWRkIDI1JSB0byB5b3VyIHBheW1lbnRcbiAgICAgICAgdGhpcy50d2VudHlmaXZlUGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQqMS4yNTtcbiAgICAgICAgTjI1ID0gKE1hdGgubG9nKDEtcipBL3RoaXMudHdlbnR5Zml2ZVBheW1lbnQpKi0xKS9NYXRoLmxvZygxK3IpO1xuXG4gICAgICAgIGN1cnJlbnREYXRlID0gbmV3IERhdGUoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhjdXJyZW50RGF0ZSk7XG5cbiAgICAgICAgZnVsbFBheW9mZkRhdGUyNSA9IG5ldyBEYXRlKGN1cnJlbnREYXRlLnNldE1vbnRoKGN1cnJlbnREYXRlLmdldE1vbnRoKCkrTjI1KzEpKTtcblxuICAgICAgICBtb250aCA9IG1vbnRoTmFtZXNbZnVsbFBheW9mZkRhdGUyNS5nZXRNb250aCgpXTtcbiAgICAgICAgeWVhciA9IGZ1bGxQYXlvZmZEYXRlMjUuZ2V0RnVsbFllYXIoKTtcblxuICAgICAgICBjb25zb2xlLmxvZyhOMjUpO1xuICAgICAgICBjb25zb2xlLmxvZyhmdWxsUGF5b2ZmRGF0ZTI1KTtcblxuICAgICAgICB0aGlzLnR3ZW50eWZpdmVQYXlvZmYgPSBtb250aCArIFwiIFwiICsgeWVhcjtcblxuICAgICAgICBJMjUgPSB0aGlzLnR3ZW50eWZpdmVQYXltZW50Kk4yNSAtIEE7XG5cbiAgICAgICAgdGhpcy50d2VudHlmaXZlU2F2ZSA9IHRoaXMudG90YWxJbnRlcmVzdCAtIEkyNTtcblxuICAgICAgICBjb25zb2xlLmxvZyhJMjUpO1xuXG5cbiAgICAgICAgdGhpcy5tb250aGx5UGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudG90YWxQYWlkID0gdGhpcy50b3RhbFBhaWQudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudG90YWxJbnRlcmVzdCA9IHRoaXMudG90YWxJbnRlcmVzdC50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgICB7J21pbmltdW1GcmFjdGlvbkRpZ2l0cyc6MiwnbWF4aW11bUZyYWN0aW9uRGlnaXRzJzoyfSk7XG5cbiAgICAgICAgdGhpcy50ZW5QYXltZW50ID0gdGhpcy50ZW5QYXltZW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHsnbWluaW11bUZyYWN0aW9uRGlnaXRzJzoyLCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnOjJ9KTtcblxuICAgICAgICB0aGlzLnRlblNhdmUgPSB0aGlzLnRlblNhdmUudG9Mb2NhbGVTdHJpbmcodW5kZWZpbmVkLFxuICAgICAgICAgICAgeydtaW5pbXVtRnJhY3Rpb25EaWdpdHMnOjIsJ21heGltdW1GcmFjdGlvbkRpZ2l0cyc6Mn0pO1xuXG4gICAgICAgIHRoaXMudHdlbnR5Zml2ZVBheW1lbnQgPSB0aGlzLnR3ZW50eWZpdmVQYXltZW50LnRvTG9jYWxlU3RyaW5nKHVuZGVmaW5lZCxcbiAgICAgICAgICAgIHsnbWluaW11bUZyYWN0aW9uRGlnaXRzJzoyLCdtYXhpbXVtRnJhY3Rpb25EaWdpdHMnOjJ9KTtcblxuICAgICAgICB0aGlzLnR3ZW50eWZpdmVTYXZlID0gdGhpcy50d2VudHlmaXZlU2F2ZS50b0xvY2FsZVN0cmluZyh1bmRlZmluZWQsXG4gICAgICAgICAgICB7J21pbmltdW1GcmFjdGlvbkRpZ2l0cyc6MiwnbWF4aW11bUZyYWN0aW9uRGlnaXRzJzoyfSk7XG5cblxuXG4gICAgICAgIC8vIGZvciAoaT0wOyBpPChuLzEyKTsgaSsrKSB7XG4gICAgICAgIC8vICAgICBmdk9mUHJpbmNpcGFsID0gZnZPZlByaW5jaXBhbCooMStyL24pO1xuICAgICAgICAvLyAgICAgZnZPZkNvbnRyaWJ1dGlvbnMgPSAoZnZPZkNvbnRyaWJ1dGlvbnMrUE1UKSooMStyL24pO1xuICAgICAgICAvLyAgICAgY29tYmluZWQgPSBmdk9mUHJpbmNpcGFsICsgZnZPZkNvbnRyaWJ1dGlvbnM7XG4gICAgICAgIC8vICAgICB0b3RhbEludmVzdG1lbnQgPSBQTVQqKGkrMSkgKyBBO1xuICAgICAgICAvLyAgICAgdG90YWxSZXR1cm4gPSBNYXRoLnJvdW5kKGNvbWJpbmVkIC0gdG90YWxJbnZlc3RtZW50KTtcbiAgICAgICAgLy8gICAgIGlEYXRhLnB1c2godG90YWxJbnZlc3RtZW50KTtcbiAgICAgICAgLy8gICAgIHJEYXRhLnB1c2godG90YWxSZXR1cm4pO1xuXG4gICAgICAgIC8vICAgICBjYXRlZ29yaWVzID0gaSArIDEgKyAoeWVhci0yMDAwKTtcbiAgICAgICAgLy8gICAgIGNhdGVnb3JpZXMudG9TdHJpbmcoKTtcbiAgICAgICAgLy8gICAgIGNhdGVnb3JpZXMgPSBcIidcIiArIGNhdGVnb3JpZXM7XG4gICAgICAgIC8vICAgICBjYXRBcnJheS5wdXNoKGNhdGVnb3JpZXMpXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBpRGF0YS51bnNoaWZ0KEEpO1xuICAgICAgICAvLyByRGF0YS51bnNoaWZ0KDApO1xuICAgICAgICAvLyBjYXRBcnJheS51bnNoaWZ0KHllYXIpO1xuXG4gICAgICAgIC8vIGlmIChuPT0xMikgeyAgXG4gICAgICAgIC8vICAgICBpRGF0YSA9IGlEYXRhLmZpbHRlcigoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gaW5kZXggJSAxMiA9PT0gMDtcbiAgICAgICAgLy8gICAgIH0pXG4gICAgICAgIC8vICAgICByRGF0YSA9IHJEYXRhLmZpbHRlcigoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgLy8gICAgICAgICByZXR1cm4gaW5kZXggJSAxMiA9PT0gMDtcbiAgICAgICAgLy8gICAgIH0pXG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyBpZiAoaURhdGEubGVuZ3RoID4gMjEpIHtcbiAgICAgICAgLy8gICAgIHRpY2tJbnRlcnZhbCA9IDEwO1xuICAgICAgICAvLyB9IGVsc2UgaWYgKGlEYXRhLmxlbmd0aCA8IDYpIHtcbiAgICAgICAgLy8gICAgIHRpY2tJbnRlcnZhbCA9IDE7XG4gICAgICAgIC8vIH1cblxuICAgICAgICAvLyB0aGlzLmRyYXdDaGFydChpRGF0YSxyRGF0YSxjYXRBcnJheSx0aWNrSW50ZXJ2YWwpO1xuXG4gICAgICAgIC8vIHRoaXMubW9udGhseVBheW1lbnQgPSBmdk9mUHJpbmNpcGFsICsgZnZPZkNvbnRyaWJ1dGlvbnM7XG5cbiAgICAgICAgLy8gdG90YWxSZXR1cm4gPSB0aGlzLm1vbnRobHlQYXltZW50IC0gdG90YWxDb250cmlidXRpb25zO1xuXG4gICAgICAgIC8vIGlmICh0aGlzLm1vbnRobHlQYXltZW50ID4gOTk5OTk5OTk5KSB7XG4gICAgICAgIC8vICAgICBjb25zdCBzdWZmaXhlcyA9IFtcIlwiLCBcIiBiaWxsaW9uXCIsXCIgdHJpbGxpb25cIl07XG4gICAgICAgIC8vICAgICBsZXQgc3VmZml4TnVtID0gMDtcbiAgICAgICAgLy8gICAgIHRoaXMubW9udGhseVBheW1lbnQgLz0gOTk5OTk5OTk5O1xuICAgICAgICAvLyAgICAgc3VmZml4TnVtKys7XG4gICAgICAgIFxuICAgICAgICAvLyAgICAgdGhpcy5tb250aGx5UGF5bWVudCA9IHRoaXMubW9udGhseVBheW1lbnQudG9QcmVjaXNpb24oMyk7XG4gICAgICAgIFxuICAgICAgICAvLyAgICAgdGhpcy5tb250aGx5UGF5bWVudCArPSBzdWZmaXhlc1tzdWZmaXhOdW1dO1xuICAgICAgICAvLyB9XG5cblxuXG4gICAgICB9LFxuICAgIC8vICAgZHJhd0NoYXJ0OiBmdW5jdGlvbihpRGF0YSxyRGF0YSxjYXRBcnJheSx0aWNrSW50ZXJ2YWwpIHtcblxuICAgIC8vICAgICBIaWdoY2hhcnRzLnNldE9wdGlvbnMoe1xuICAgIC8vICAgICAgICAgbGFuZzoge1xuICAgIC8vICAgICAgICAgICB0aG91c2FuZHNTZXA6ICcsJyxcbiAgICAvLyAgICAgICAgICAgbnVtZXJpY1N5bWJvbHM6IFtudWxsLCBcIk1cIiwgXCJHXCIsIFwiVFwiLCBcIlBcIiwgXCJFXCJdXG4gICAgLy8gICAgICAgICB9XG4gICAgLy8gICAgIH0pO1xuXG4gICAgLy8gICAgIGZ1bmN0aW9uIGRyYXdIaWdoY2hhcnRzKCkge1xuICAgIC8vICAgICAgICAgSGlnaGNoYXJ0cy5jaGFydCgnY2hhcnQtY29udGFpbmVyLUNJY2FsYycsIHtcbiAgICAvLyAgICAgICAgICAgICBjaGFydDoge1xuICAgIC8vICAgICAgICAgICAgICAgICB0eXBlOiAnY29sdW1uJyxcbiAgICAvLyAgICAgICAgICAgICAgICAgc3R5bGVkTW9kZTogdHJ1ZSxcbiAgICAvLyAgICAgICAgICAgICAgICAgc3BhY2luZ0JvdHRvbTogMCxcbiAgICAvLyAgICAgICAgICAgICAgICAgc3BhY2luZ1JpZ2h0OiAyMCxcbiAgICAvLyAgICAgICAgICAgICAgICAgc3BhY2luZ0xlZnQ6IDIwLFxuICAgIC8vICAgICAgICAgICAgICAgICBhbmltYXRpb246IGZhbHNlXG4gICAgLy8gICAgICAgICAgICAgfSwgXG4gICAgLy8gICAgICAgICAgICAgdGl0bGU6IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgdGV4dDogbnVsbFxuICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICAgc2VyaWVzOiBbe1xuICAgIC8vICAgICAgICAgICAgICAgICBuYW1lOiAnUmV0dXJuJyxcbiAgICAvLyAgICAgICAgICAgICAgICAgZGF0YTogckRhdGFcbiAgICAvLyAgICAgICAgICAgICB9LCB7XG4gICAgLy8gICAgICAgICAgICAgICAgIG5hbWU6ICdJbnZlc3RtZW50JyxcbiAgICAvLyAgICAgICAgICAgICAgICAgZGF0YTogaURhdGFcbiAgICAvLyAgICAgICAgICAgICB9XSxcbiAgICAvLyAgICAgICAgICAgICAvLyBmb3IgbGluZSBjaGFydHMgb25seVxuICAgIC8vICAgICAgICAgICAgIHBsb3RPcHRpb25zOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGNvbHVtbjoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgc3RhY2tpbmc6ICdub3JtYWwnXG4gICAgLy8gICAgICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICAgICAgIHNlcmllczoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgZ3JvdXBQYWRkaW5nOiAwLjFcbiAgICAvLyAgICAgICAgICAgICAgICAgfVxuICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICAgbGVnZW5kOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgIGFsaWduOiAnbGVmdCcsXG4gICAgLy8gICAgICAgICAgICAgICAgIHN5bWJvbFJhZGl1czogMCxcbiAgICAvLyAgICAgICAgICAgICAgICAgdmVydGljYWxBbGlnbjogJ3RvcCcsXG4gICAgLy8gICAgICAgICAgICAgICAgIHg6IC0xOCxcbiAgICAvLyAgICAgICAgICAgICAgICAgaXRlbU1hcmdpblRvcDogLTEwLFxuICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICAgICAgeEF4aXM6IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgbGFiZWxzOiB7XG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBzdHlsZToge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgICAgIHdoaXRlU3BhY2U6ICdub3dyYXAnLFxuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICAgICAgY2F0ZWdvcmllczogY2F0QXJyYXksXG4gICAgLy8gICAgICAgICAgICAgICAgIHRpY2tMZW5ndGg6IDUsXG4gICAgLy8gICAgICAgICAgICAgICAgIHRpY2tJbnRlcnZhbDogdGlja0ludGVydmFsXG4gICAgLy8gICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICB5QXhpczoge1xuICAgIC8vICAgICAgICAgICAgICAgICB0aXRsZTogZmFsc2UsXG4gICAgLy8gICAgICAgICAgICAgICAgIGxhYmVsczoge1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgb3ZlcmZsb3c6ICdhbGxvdycsXG4gICAgLy8gICAgICAgICAgICAgICAgICAgICBmb3JtYXR0ZXI6IGZ1bmN0aW9uICgpIHtcbiAgICAvLyAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gJyQnICsgSGlnaGNoYXJ0cy5udW1iZXJGb3JtYXQodGhpcy52YWx1ZSwwLCcuJywnLCcpO1xuICAgIC8vICAgICAgICAgICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICAgICAgfSxcbiAgICAvLyAgICAgICAgICAgICAgICAgdGlja0Ftb3VudDogNSxcbiAgICAvLyAgICAgICAgICAgICB9LFxuICAgIC8vICAgICAgICAgICAgIGNyZWRpdHM6IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgZW5hYmxlZDogZmFsc2VcbiAgICAvLyAgICAgICAgICAgICB9LFxuICAgIC8vICAgICAgICAgICAgIHRvb2x0aXA6IHtcbiAgICAvLyAgICAgICAgICAgICAgICAgc2hhZG93OiBmYWxzZSxcbiAgICAvLyAgICAgICAgICAgICAgICAgcGFkZGluZzogMTAsXG4gICAgLy8gICAgICAgICAgICAgICAgIHNoYXJlZDogdHJ1ZSxcbiAgICAvLyAgICAgICAgICAgICAgICAgdmFsdWVQcmVmaXg6ICckJ1xuICAgIC8vICAgICAgICAgICAgIH0sXG4gICAgLy8gICAgICAgICB9KVxuICAgIC8vICAgICB9XG4gICAgICAgIFxuICAgIC8vICAgICBpZiAoZG9jdW1lbnQucmVhZHlTdGF0ZSA9PT0gJ2NvbXBsZXRlJyB8fCBkb2N1bWVudC5yZWFkeVN0YXRlID09PSAnaW50ZXJhY3RpdmUnKSB7XG4gICAgLy8gICAgICAgICBkcmF3SGlnaGNoYXJ0cygpO1xuICAgIC8vICAgICB9IGVsc2Uge1xuICAgIC8vICAgICAgICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcihcIkRPTUNvbnRlbnRMb2FkZWRcIiwgZHJhd0hpZ2hjaGFydHMpO1xuICAgIC8vICAgICB9XG5cbiAgICAvLyAgIH1cbiAgICB9LFxuICAgIG1vdW50ZWQ6IGZ1bmN0aW9uKCl7XG4gICAgICAgIHRoaXMuZ2V0UmVzdWx0cygpXG4gICAgIH0sXG4gIH0pXG5cbiAgZnVuY3Rpb24gbGltaXROdW1iZXIgKCkge1xuICAgIGlmICh0aGlzLnZhbHVlLmxlbmd0aCA+IHRoaXMubWF4TGVuZ3RoKSB7XG4gICAgICAgIHRoaXMudmFsdWUgPSB0aGlzLnZhbHVlLnNsaWNlKDAsIHRoaXMubWF4TGVuZ3RoKTtcbiAgICAgICAgdHlwZSA9IFwibnVtYmVyXCJcbiAgICAgICAgbWF4bGVuZ3RoID0gXCIyXCJcbiAgICB9XG4gIH0iXX0=
